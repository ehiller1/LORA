# RMN LoRA System - Environment Configuration

# =============================================================================
# Database Configuration
# =============================================================================

# Primary database (SQLAlchemy)
# Options: postgresql, mysql, sqlite
DATABASE_URL=postgresql://user:password@localhost:5432/rmn_db
# DATABASE_URL=mysql://user:password@localhost:3306/rmn_db
# DATABASE_URL=sqlite:///rmn_system.db

# =============================================================================
# Supabase Configuration (Optional - for real-time features)
# =============================================================================

# Get these from: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...  # Anon/Public key
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...  # Service role key (keep secret!)

# =============================================================================
# Model Configuration
# =============================================================================

# Base model for LoRA adapters
BASE_MODEL=meta-llama/Llama-3.1-8B-Instruct
# BASE_MODEL=mistralai/Mistral-7B-Instruct-v0.2

# Hugging Face token (for private models)
HF_TOKEN=hf_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# API Keys (for integrations)
# =============================================================================

# Clean room API endpoints
AMAZON_CLEAN_ROOM_ENDPOINT=https://api.amazon.com/clean-room
AMAZON_CLEAN_ROOM_API_KEY=xxxxx

WALMART_CLEAN_ROOM_ENDPOINT=https://api.walmart.com/clean-room
WALMART_CLEAN_ROOM_API_KEY=xxxxx

TARGET_CLEAN_ROOM_ENDPOINT=https://api.target.com/clean-room
TARGET_CLEAN_ROOM_API_KEY=xxxxx

# =============================================================================
# Storage Paths
# =============================================================================

DATA_DIR=./data
MODELS_DIR=./models
LOGS_DIR=./logs

# =============================================================================
# Runtime Configuration
# =============================================================================

# Multi-tenant runtime
RUNTIME_HOST=0.0.0.0
RUNTIME_PORT=8000

# RLHF UI
RLHF_UI_PORT=8001

# NDE Rater IDE
RATER_IDE_PORT=8002

# =============================================================================
# Training Configuration
# =============================================================================

# Training device
DEVICE=cuda
# DEVICE=cpu
# DEVICE=mps  # For Apple Silicon

# Batch size
TRAIN_BATCH_SIZE=4
EVAL_BATCH_SIZE=8

# LoRA parameters
LORA_R=16
LORA_ALPHA=32
LORA_DROPOUT=0.1

# =============================================================================
# Monitoring & Observability
# =============================================================================

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000

# Log level
LOG_LEVEL=INFO
# LOG_LEVEL=DEBUG

# =============================================================================
# Security
# =============================================================================

# JWT secret for authentication
JWT_SECRET=your-secret-key-change-this-in-production

# API rate limiting
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# Business Configuration
# =============================================================================

# NDE rater program
NDE_COST_PER_JUDGMENT=0.50
GOLDEN_SET_PERCENTAGE=0.10
MIN_RATER_CONFIDENCE=0.7

# Reward model training
MIN_JUDGMENTS_FOR_TRAINING=10000
DPO_BETA=0.1

# =============================================================================
# Feature Flags
# =============================================================================

# Enable real-time features (requires Supabase)
ENABLE_REALTIME=true

# Enable auto-checks
ENABLE_AUTO_CHECKS=true

# Enable active learning
ENABLE_ACTIVE_LEARNING=true

# Enable metrics collection
ENABLE_METRICS=true
